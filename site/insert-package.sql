SET VERIFY OFF;
SET SERVEROUTPUT ON;


CREATE OR REPLACE PACKAGE iPack AS

	PROCEDURE DATA_INSERT(
	PID TESTSET.ID%TYPE,
	POUTLOOK TESTSET.OUTLOOK%TYPE,
	PTEMPERATURE TESTSET.TEMPERATURE%TYPE,
	PHUMIDITY TESTSET.HUMIDITY%TYPE
	
);


END iPack;
/


CREATE OR REPLACE PACKAGE BODY iPack AS 
	PROCEDURE DATA_INSERT
	(
		PID TESTSET.ID%TYPE,
		POUTLOOK TESTSET.OUTLOOK%TYPE,
		PTEMPERATURE TESTSET.TEMPERATURE%TYPE,
		PHUMIDITY TESTSET.HUMIDITY%TYPE
		
	)
	IS

	BEGIN
		 INSERT INTO TESTSET (ID, OUTLOOK, TEMPERATURE, HUMIDITY) VALUES (PID, POUTLOOK, PTEMPERATURE, PHUMIDITY);
		 COMMIT;

	END DATA_INSERT;
END iPack;
/

DECLARE
	TID TESTSET.ID%TYPE;
	TOUTLOOK TESTSET.OUTLOOK%TYPE;
	TTEMPERATURE TESTSET.TEMPERATURE%TYPE;
	THUMIDITY TESTSET.HUMIDITY%TYPE;
	

	NEGATIVE_VALUE EXCEPTION;
	INVALID_OUTLOOK EXCEPTION;
	INVALID_TEMPERATURE EXCEPTION;
	INVALID_HUMIDITY EXCEPTION;
	

BEGIN


	
	TID := &ID;
	TOUTLOOK := '&OUTLOOK';
	TTEMPERATURE := '&TEMPERATURE';
	THUMIDITY := '&HUMIDITY';




	IF TID<0 THEN
		RAISE NEGATIVE_VALUE;
	END IF;

	IF NOT (TOUTLOOK ='sunny' or TOUTLOOK = 'windy' or TOUTLOOK = 'overcast') THEN
		RAISE INVALID_OUTLOOK;
	END IF;

	IF NOT (TTEMPERATURE ='hot' or TTEMPERATURE = 'mild' or TTEMPERATURE = 'cool') THEN
		RAISE INVALID_TEMPERATURE;
	END IF;

	IF NOT (THUMIDITY<>'high' or THUMIDITY <> 'normal') THEN
		RAISE INVALID_HUMIDITY;
	END IF;

	iPack.DATA_INSERT(TID, TOUTLOOK, TTEMPERATURE, THUMIDITY);


	COMMIT;

	EXCEPTION
		WHEN NEGATIVE_VALUE THEN
			DBMS_OUTPUT.PUT_LINE('ID CANNOT BE NEGATIVE VALUE');
		WHEN INVALID_OUTLOOK THEN
			DBMS_OUTPUT.PUT_LINE('Enter either sunny or windy or overcast in outlook');
		WHEN INVALID_TEMPERATURE THEN
			DBMS_OUTPUT.PUT_LINE('Enter either hot or mild or cool in temperature');
		WHEN INVALID_HUMIDITY THEN
			DBMS_OUTPUT.PUT_LINE('Enter either high or noraml in humidity');
		

END;
/
